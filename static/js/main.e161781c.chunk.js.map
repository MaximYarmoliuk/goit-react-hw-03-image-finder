{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryList/ImageGalleryList.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Spinner/Spinner.js","components/Modal/Modal.js","servises/imageGalleryApi.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryList/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleSubmit","e","preventDefault","props","onSubmit","setState","handleChange","target","value","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryList","url","largeImageUrl","onOpenImage","ImageGalleryItem","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","openImage","map","id","webformatURL","largeImageURL","key","Button","onFetchImages","Styles","Spinner","color","height","width","Modal","closeImageByClickEsc","keyCode","onCloseLargeImage","closeImageByClickOnOverloy","currentTarget","window","addEventListener","removeEventListener","Overlay","fetchImagesFromQuery","searchQuery","page","axios","get","then","response","data","hits","propTypes","string","isRequired","number","App","loading","visibleOverlay","pageScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","closeLargeImage","fetchImages","imageGalleryApi","prevState","catch","error","finally","handleSearchFormSubmit","query","openLargeImage","prevProp","prevQuery","nextQuery","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e161781c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1_GXV\",\"Modal\":\"Modal_Modal__3eHA1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2IocM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__4Cce0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__2lTji\"};","import React, { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\"\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue !== \"\") {\r\n      this.props.onSubmit(this.state.inputValue);\r\n      this.setState({ inputValue: \"\" });\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: propTypes.func.isRequired\r\n};\r\n","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryList = ({ url, largeImageUrl, onOpenImage }) => (\r\n  <li className={styles.ImageGalleryItem} >\r\n    <img src={url} alt={largeImageUrl} className={styles.ImageGalleryItemImage} onClick={onOpenImage}/>\r\n  </li>\r\n);\r\n\r\nImageGalleryList.propTypes = {\r\n  url: propTypes.string.isRequired,\r\n  largeImageUrl: propTypes.string.isRequired,\r\n  onOpenImage: propTypes.func.isRequired\r\n}\r\n\r\nexport default ImageGalleryList;\r\n","import React from \"react\";\r\nimport ImageGalleryList from \"../ImageGalleryList/ImageGalleryList\";\r\nimport propTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\"\r\n\r\nconst ImageGallery = ({ images, openImage }) => (\r\n  <ul className={styles.ImageGallery}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryList key={id} url={webformatURL} largeImageUrl={largeImageURL} onOpenImage={openImage}/>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes ={\r\n  images: propTypes.arrayOf(propTypes.object.isRequired),\r\n  openImage: propTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport Styles from './Button.module.css'\r\n\r\nconst Button = ({ onFetchImages }) => (\r\n  <button className={Styles.Button} type=\"button\" onClick={(onFetchImages)}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes={\r\n  onFetchImages: propTypes.func.isRequired\r\n}\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Spinner.module.css\";\r\n\r\nconst Spinner = () => (\r\n  <div className={styles.Spinner}>\r\n    <Loader type=\"Oval\" color=\"#00BFFF\" height={40} width={40} />\r\n  </div>\r\n);\r\n\r\nexport default Spinner;\r\n","import React, { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keyup\", this.closeImageByClickEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keyup\", this.closeImageByClickEsc);\r\n  }\r\n\r\n  closeImageByClickEsc = e => {\r\n    e.keyCode === 27 && this.props.onCloseLargeImage();\r\n  };\r\n\r\n  closeImageByClickOnOverloy = e => {\r\n    e.target === e.currentTarget && this.props.onCloseLargeImage();\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.closeImageByClickOnOverloy}>\r\n        <div className={styles.Modal}>\r\n          <img src={url} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: propTypes.string.isRequired,\r\n  onCloseLargeImage: propTypes.func.isRequired\r\n};\r\n","import axios from \"axios\";\r\nimport propTypes from \"prop-types\"\r\n\r\nconst fetchImagesFromQuery = (searchQuery, page = 1) => {\r\n  const key = \"14154163-50f1b5a2e44fb9aa2c654ef49\";\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nfetchImagesFromQuery.propTypes={\r\n  searchQuery: propTypes.string.isRequired,\r\n  page: propTypes.number.isRequired\r\n}\r\n\r\nexport default { fetchImagesFromQuery };\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Button from \"./Button/Button\";\r\nimport Spinner from \"./Spinner/Spinner\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport imageGalleryApi from \"../servises/imageGalleryApi\";\r\nimport \"./App.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    largeImageUrl: \"\",\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    loading: false,\r\n    visibleOverlay: false\r\n  };\r\n\r\n  componentDidUpdate(prevProp, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    const prevArrOfImages = prevState.images.length;\r\n    const nextArrOfImages = this.state.images.length;\r\n    if (prevArrOfImages !== nextArrOfImages) {\r\n      this.pageScroll();\r\n    }\r\n\r\n    if (prevQuery !== nextQuery && nextQuery !== \"\") {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  pageScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\"\r\n    });\r\n  };\r\n\r\n  closeLargeImage = () => {\r\n    this.setState({\r\n      visibleOverlay: false,\r\n      largeImageUrl: \"\"\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    imageGalleryApi\r\n      .fetchImagesFromQuery(searchQuery, page)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1\r\n        }))\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      images: [],\r\n      page: 1\r\n    });\r\n  };\r\n\r\n  openLargeImage = e => {\r\n    const url = e.target.alt;\r\n    this.setState({\r\n      visibleOverlay: true,\r\n      largeImageUrl: url\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { images, largeImageUrl, loading, visibleOverlay } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} openImage={this.openLargeImage} />\r\n        )}\r\n        {loading && <Spinner />}\r\n\r\n        {images.length > 0 && !loading && (\r\n          <Button onFetchImages={this.fetchImages} />\r\n        )}\r\n\r\n        {visibleOverlay && (\r\n          <Modal url={largeImageUrl} onCloseLargeImage={this.closeLargeImage} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3MYO8\",\"SearchForm\":\"Searchbar_SearchForm__1mA8y\",\"SearchFormButton\":\"Searchbar_SearchFormButton__ZS2dq\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1oxtb\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Xtz8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Xg8D\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2D2BR\"};"],"sourceRoot":""}